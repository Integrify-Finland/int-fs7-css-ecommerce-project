<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Coffee shop website">
    <meta name="keywords" content="coffee damalan">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/cart.css">
    <title>Cart Dalaman</title>
</head>

<body>
    <div class="page-wrapper">
        <header>
            <img src="../images/Icon Logo-06.png" alt="Shop's logo" class="header__logo">
            <img src="../images/Text Logo-Color 2.png" alt="Shop's logo" class="header__logo-text">
            <div class="header__cart">
                <a href="../html/cart.html" id="cart-link">
                    <i class="fa-solid fa-cart-shopping cart-icon"></i>
                    <div id="cart-counter">2</div>
                </a>
            </div>
        </header>
        <nav>
            <ul>
                <li><a href="../index.html" area-label="Visit home page">Home</a></li>
                <li><a href="#" area-label="Visit about page">About</a></li>
                <li><a href="#" area-label="Visit specials page">Specials</a></li>
                <li><a href="#" area-label="Visit partners page">Partnership</a></li>
            </ul>
        </nav>
        <div class="thank-you">Thank you for purchasing in our shop!</div>
        <div id="cart-main" role="main">
            <section class="cart-list">
                <div class="cart-row cart-header">
                    <div>Product</div>
                    <div>Price</div>
                    <div>Amount</div>
                    <div>Total price</div>
                </div>
                <div class="cart-row" id="product-1">
                    <div class="cart__product">
                        <div class="in-cart">
                            <div class="coffee-card__header">
                                Bourbon
                            </div>
                            <div class="coffee-card__content">
                                <img src="../images/coffeeProducts/bourbonBeans.png" alt="Bourbon Coffee Beans Picture">
                            </div>
                        </div>
                    </div>
                    <div class="product__price"></div>
                    <div class="product__amount">
                        <div class="amount-decrease">-</div>
                        <div id="amount">1</div>
                        <div class="amount-increase">+</div>
                    </div>
                    <div class="product__total-price"></div>
                </div>
                <div class="cart-row" id="product-2">
                    <div class="cart__product">
                        <div class="in-cart">
                            <div class="coffee-card__header">
                                Catimor
                            </div>
                            <div class="coffee-card__content">
                                <img src="../images/coffeeProducts/catimorBeans.png" alt="Catimor Coffee Beans Picture">
                            </div>
                        </div>
                    </div>
                    <div class="product__price"></div>
                    <div class="product__amount">
                        <div class="amount-decrease">-</div>
                        <div id="amount">1</div>
                        <div class="amount-increase">+</div>
                    </div>
                    <div class="product__total-price"></div>
                </div>
            </section>
            <aside class="purchase">
                <div class="purchase__header">
                    <h2>Your orders</h2>
                </div>
                <div class="purchase__content">
                    <div>Total Weight</div>
                    <div id="purchase__amount"></div>
                    <div>Total Order Price</div>
                    <div id="purchase__price">20</div>
                </div>
                <button class="purchase__btn btn">Checkout</button>
            </aside>

        </div>
        <footer>
            <h2 class="footer__header">Stay In Touch With Us</h2>
            <section class="footer__contacts">
                <i class="fab fa-facebook"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-instagram"></i>
            </section>
        </footer>
    </div>
    <script>

        // dummy data setup start
        let price1 = 10;
        let price2 = 12;

        document.getElementById("product-1").querySelector(".product__price").innerText = price1;
        document.getElementById("product-2").querySelector(".product__price").innerText = price2;

        let totalPrice1 = document.getElementById("product-1").querySelector(".product__total-price");
        let totalPrice2 = document.getElementById("product-2").querySelector(".product__total-price");

        let currentAmount1 = parseInt(document.getElementById("product-1").querySelector("#amount").innerText);
        let currentAmount2 = parseInt(document.getElementById("product-2").querySelector("#amount").innerText);

        totalPrice1.innerText = price1 * currentAmount1;
        totalPrice2.innerText = price2 * currentAmount2;

        document.querySelector("#purchase__price").innerText = (price1 * currentAmount1) + (price2 * currentAmount2);
        document.querySelector("#purchase__amount").innerText = currentAmount1 + currentAmount2;

        // dummy data setup end

        document.querySelectorAll(".amount-decrease").forEach(decrease => {
            decrease.addEventListener("click", function (evt) {
                let currentAmount = parseInt(evt.target.parentNode.querySelector("#amount").innerText);
                let price = parseInt(evt.target.parentNode.parentNode.querySelector(".product__price").innerText);
                if (currentAmount !== 1) {
                    currentAmount--;
                    evt.target.parentNode.querySelector("#amount").innerText = currentAmount;
                    evt.target.parentNode.parentNode.querySelector(".product__total-price").innerText = currentAmount * price;
                    let currentTotalPrice = parseInt(document.querySelector("#purchase__price").innerText);
                    document.querySelector("#purchase__price").innerText = currentTotalPrice - price;
                    let currentTotalAmount = parseInt(document.querySelector("#purchase__amount").innerText);
                    document.querySelector("#purchase__amount").innerText = currentTotalAmount - 1;
                }
            })
        });

        document.querySelectorAll(".amount-increase").forEach(increase => {
            increase.addEventListener("click", function (evt) {
                let currentAmount = parseInt(evt.target.parentNode.querySelector("#amount").innerText);
                let price = parseInt(evt.target.parentNode.parentNode.querySelector(".product__price").innerText);
                if (currentAmount !== 50) {
                    currentAmount++;
                    evt.target.parentNode.querySelector("#amount").innerText = currentAmount;
                    evt.target.parentNode.parentNode.querySelector(".product__total-price").innerText = currentAmount * price;
                    let currentTotalPrice = parseInt(document.querySelector("#purchase__price").innerText);
                    document.querySelector("#purchase__price").innerText = currentTotalPrice + price;
                    let currentTotalAmount = parseInt(document.querySelector("#purchase__amount").innerText);
                    document.querySelector("#purchase__amount").innerText = currentTotalAmount + 1;
                }
            })
        })


    </script>

</body>

</html>